<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tark Hub Pro - Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2fe;
            --secondary: #4facfe;
            --dark-bg: #0b0f1a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --text-light: #f8fafc;
            --attaquant: #ff4757;
            --milieu: #2ed573;
            --defenseur: #1e90ff;
            --gardien: #eccc68;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background: var(--dark-bg);
            color: var(--text-light);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* --- HEADER FIXE --- */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(11, 15, 26, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        h1 {
            font-size: 1.4rem;
            margin: 0;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .search-box {
            width: 100%;
            position: relative;
        }

        #searchInput {
            width: 100%;
            padding: 12px 45px 12px 20px;
            border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.05);
            color: white;
            font-size: 0.9rem;
            outline: none;
        }

        /* --- FILTRES SCROLLABLES (SUPER POUR MOBILE) --- */
        .filter-scroll {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding: 10px 0;
            scrollbar-width: none; /* Firefox */
        }

        .filter-scroll::-webkit-scrollbar { display: none; } /* Chrome/Safari */

        .f-btn {
            white-space: nowrap;
            padding: 8px 18px;
            border-radius: 20px;
            background: var(--card-bg);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .f-btn.active {
            background: var(--secondary);
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        /* --- GRILLE DE CARTES --- */
        .player-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2 colonnes sur mobile */
            gap: 12px;
            padding: 15px;
        }

        @media (min-width: 768px) {
            .player-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
        }

        .card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255,255,255,0.05);
            animation: slideUp 0.4s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            background: #1a2235;
        }

        .fav-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.5);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            z-index: 10;
        }

        .fav-active { color: #ff4757; }

        .card-info { padding: 10px; }

        .c-name {
            font-size: 0.95rem;
            font-weight: 700;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .c-team {
            font-size: 0.75rem;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        .c-badge {
            font-size: 0.65rem;
            padding: 2px 8px;
            border-radius: 4px;
            text-transform: uppercase;
            font-weight: 800;
            display: inline-block;
        }

        /* --- MODAL MOBILE FULLSCREEN --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--dark-bg);
            z-index: 2000;
            overflow-y: auto;
            padding-bottom: 40px;
        }

        .modal-header {
            position: relative;
            height: 300px;
        }

        .modal-img { width: 100%; height: 100%; object-fit: cover; }

        .close-modal {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.6);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            z-index: 100;
        }

        .modal-body {
            padding: 20px;
            background: var(--dark-bg);
            border-radius: 30px 30px 0 0;
            margin-top: -30px;
            position: relative;
        }

        .stat-row {
            margin-bottom: 15px;
        }

        .stat-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .stat-bar-bg {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .stat-bar-fill {
            height: 100%;
            background: var(--primary);
            width: 0;
            transition: width 1s ease-in-out;
        }
    </style>
</head>
<body>

<header>
    <div class="header-top">
        <h1>TARK HUB PRO</h1>
        <div id="favCount" style="font-size: 0.8rem; background: var(--attaquant); padding: 2px 8px; border-radius: 10px;">0 ‚ù§Ô∏è</div>
    </div>

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Rechercher un joueur..." onkeyup="handleSearch()">
    </div>

    <div class="filter-scroll">
        <button class="f-btn active" onclick="filterBy('Tous', this)">Tous</button>
        <button class="f-btn" onclick="filterBy('Favoris', this)">Mes Favoris ‚ù§Ô∏è</button>
        <button class="f-btn" onclick="filterBy('Attaquant', this)">Attaquants</button>
        <button class="f-btn" onclick="filterBy('Milieu', this)">Milieux</button>
        <button class="f-btn" onclick="filterBy('D√©fenseur', this)">D√©fenseurs</button>
        <button class="f-btn" onclick="filterBy('Gardien', this)">Gardiens</button>
    </div>
</header>

<div class="player-grid" id="playerGrid"></div>

<div id="pModal" class="modal">
    <button class="close-modal" onclick="closeModal()">√ó</button>
    <div id="modalContent"></div>
</div>

<script>
// --- BASE DE DONN√âES MASSIVE (Stats sur 100) ---
const players = [
    {id:1, rank:1, name:"Lionel Messi", team:"Inter Miami", cat:"Attaquant", photo:"https://fcb-abbrevia.s3.amazonaws.com/img/stats/players/MESSI.jpg", pace:80, shoot:87, pass:90, dri:94, bio:"Le g√©nie argentin, ma√Ætre du drible et de la vision."},
    {id:2, rank:2, name:"Cristiano Ronaldo", team:"Al Nassr", cat:"Attaquant", photo:"https://upload.wikimedia.org/wikipedia/commons/8/8c/Cristiano_Ronaldo_2018.jpg", pace:82, shoot:92, pass:78, dri:80, bio:"La l√©gende portugaise, meilleur buteur de l'histoire."},
    {id:3, rank:3, name:"Kylian Mbapp√©", team:"Real Madrid", cat:"Attaquant", photo:"https://img.resfu.com/media/img_news/kylian-mbappe--real-madrid.png", pace:97, shoot:90, pass:80, dri:92, bio:"La foudre fran√ßaise, futur du football mondial."},
    {id:4, rank:4, name:"Erling Haaland", team:"Man City", cat:"Attaquant", photo:"https://www.fifarosters.com/assets/img/players/fifa24/dynamic/239085.png", pace:89, shoot:93, pass:66, dri:80, bio:"Le cyborg norv√©gien, machine √† marquer."},
    {id:5, rank:5, name:"Jude Bellingham", team:"Real Madrid", cat:"Milieu", photo:"https://img.as.com/resizer/v2/LALIGA-JUDE-BELLINGHAM-667990b769288102d1a37651086a9f4c.png?auth=509923880e66c6114e9514739110d7a04944883313d5a42095d35967733df64e&width=644&height=362&smart=true", pace:79, shoot:82, pass:85, dri:88, bio:"Le nouveau patron du milieu de terrain madril√®ne."},
    {id:6, rank:6, name:"Vin√≠cius J√∫nior", team:"Real Madrid", cat:"Attaquant", photo:"https://static.flashscore.com/res/image/data/YmREpEhl-jHzM84lC.png", pace:95, shoot:82, pass:78, dri:91, bio:"Dribbleur explosif et d√©cisif."},
    {id:7, rank:7, name:"Kevin De Bruyne", team:"Man City", cat:"Milieu", photo:"https://www.fifarosters.com/assets/img/players/fifa23/dynamic/192985.png", pace:72, shoot:85, pass:94, dri:87, bio:"Maestro absolu de la passe d√©cisive."},
    {id:8, rank:8, name:"Virgil Van Dijk", team:"Liverpool", cat:"D√©fenseur", photo:"https://www.fifarosters.com/assets/img/players/fifa23/dynamic/203376.png", pace:78, shoot:60, pass:71, dri:72, bio:"Le mur infranchissable des Reds."},
    {id:9, rank:9, name:"Lamine Yamal", team:"Barcelona", cat:"Attaquant", photo:"https://img.a.transfermarkt.technology/portrait/header/926856-1715589088.jpg?lm=1", pace:85, shoot:78, pass:80, dri:89, bio:"Le plus grand prodige de 17 ans au monde."},
    {id:10, rank:10, name:"Thibaut Courtois", team:"Real Madrid", cat:"Gardien", photo:"https://players.fcbarcelona.com/images/public/p-20011.png", pace:50, shoot:20, pass:75, dri:60, bio:"La muraille de Belgique."},
    {id:11, rank:11, name:"Mohamed Salah", team:"Liverpool", cat:"Attaquant", photo:"https://www.fifarosters.com/assets/img/players/fifa23/dynamic/209331.png", pace:89, shoot:87, pass:81, dri:88, bio:"Le roi √©gyptien d'Anfield."},
    {id:12, rank:12, name:"Rodri", team:"Man City", cat:"Milieu", photo:"https://www.fifarosters.com/assets/img/players/fifa24/dynamic/231866.png", pace:66, shoot:80, pass:86, dri:84, bio:"Vainqueur du Ballon d'Or 2024."}
];

let favorites = JSON.parse(localStorage.getItem('tark_favs')) || [];

function getCatColor(cat) {
    const colors = { 'Attaquant': 'var(--attaquant)', 'Milieu': 'var(--milieu)', 'D√©fenseur': 'var(--defenseur)', 'Gardien': 'var(--gardien)' };
    return colors[cat] || 'gray';
}

function displayPlayers(list) {
    const grid = document.getElementById("playerGrid");
    grid.innerHTML = "";

    list.forEach(p => {
        const isFav = favorites.includes(p.id);
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
            <button class="fav-btn ${isFav ? 'fav-active' : ''}" onclick="toggleFav(event, ${p.id})">${isFav ? '‚ù§Ô∏è' : 'ü§ç'}</button>
            <img src="${p.photo}" class="card-img" onclick="openPlayer(${p.id})" onerror="this.src='https://via.placeholder.com/150'">
            <div class="card-info" onclick="openPlayer(${p.id})">
                <p class="c-name">${p.name}</p>
                <p class="c-team">${p.team}</p>
                <span class="c-badge" style="background:${getCatColor(p.cat)}">${p.cat}</span>
            </div>
        `;
        grid.appendChild(card);
    });
    document.getElementById('favCount').innerText = `${favorites.length} ‚ù§Ô∏è`;
}

// --- LOGIQUE RECHERCHE ET FILTRES ---
function handleSearch() {
    const term = document.getElementById("searchInput").value.toLowerCase();
    const filtered = players.filter(p => p.name.toLowerCase().includes(term) || p.team.toLowerCase().includes(term));
    displayPlayers(filtered);
}

function filterBy(cat, btn) {
    document.querySelectorAll('.f-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    if(cat === 'Tous') displayPlayers(players);
    else if(cat === 'Favoris') displayPlayers(players.filter(p => favorites.includes(p.id)));
    else displayPlayers(players.filter(p => p.cat === cat));
}

// --- GESTION FAVORIS ---
function toggleFav(e, id) {
    e.stopPropagation();
    if(favorites.includes(id)) {
        favorites = favorites.filter(fid => fid !== id);
    } else {
        favorites.push(id);
    }
    localStorage.setItem('tark_favs', JSON.stringify(favorites));
    displayPlayers(players);
}

// --- MODAL D√âTAILL√âE ---
function openPlayer(id) {
    const p = players.find(player => player.id === id);
    const modal = document.getElementById("pModal");
    const content = document.getElementById("modalContent");

    content.innerHTML = `
        <div class="modal-header">
            <img src="${p.photo}" class="modal-img">
        </div>
        <div class="modal-body">
            <h2 style="margin:0">${p.name}</h2>
            <p style="color:var(--secondary); font-weight:600;">${p.team} | ${p.cat}</p>
            <p style="font-size:0.9rem; opacity:0.8;">${p.bio}</p>

            <h3 style="font-size:1rem; margin-top:25px;">Statistiques Cl√©s</h3>
            ${renderStat("Vitesse", p.pace)}
            ${renderStat("Tir", p.shoot)}
            ${renderStat("Passe", p.pass)}
            ${renderStat("Dribble", p.dri)}
        </div>
    `;
    modal.style.display = "block";

    // Animation des barres
    setTimeout(() => {
        document.querySelectorAll('.stat-bar-fill').forEach(bar => {
            bar.style.width = bar.getAttribute('data-val') + '%';
        });
    }, 100);
}

function renderStat(label, val) {
    return `
        <div class="stat-row">
            <div class="stat-label"><span>${label}</span><span>${val}</span></div>
            <div class="stat-bar-bg"><div class="stat-bar-fill" data-val="${val}"></div></div>
        </div>
    `;
}

function closeModal() { document.getElementById("pModal").style.display = "none"; }

// Init
displayPlayers(players);
</script>

</body>
</html>

